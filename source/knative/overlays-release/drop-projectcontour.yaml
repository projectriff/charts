#@ load("@ytt:overlay", "overlay")

#! Remove contour specific resources, contour is a separate install
#! this should become unnecessary after https://github.com/knative/net-contour/issues/3

#@overlay/match by=overlay.subset({ "kind": "Namespace", "metadata": { "name": "projectcontour" } }), expects="0+"
#@overlay/remove
---

#@overlay/match by=overlay.subset({ "kind": "CustomResourceDefinition", "metadata": { "name": "httpproxies.projectcontour.io" } }), expects="0+"
#@overlay/remove
---

#@overlay/match by=overlay.subset({ "kind": "CustomResourceDefinition", "metadata": { "name": "tlscertificatedelegations.projectcontour.io" } }), expects="0+"
#@overlay/remove
---

#@overlay/match by=overlay.subset({ "kind": "CustomResourceDefinition", "metadata": { "name": "ingressroutes.contour.heptio.com" } }), expects="0+"
#@overlay/remove
---

#@overlay/match by=overlay.subset({ "kind": "CustomResourceDefinition", "metadata": { "name": "tlscertificatedelegations.contour.heptio.com" } }), expects="0+"
#@overlay/remove
---

#@overlay/match by=overlay.subset({ "kind": "ClusterRoleBinding", "metadata": { "name": "contour" } }), expects="0+"
#@overlay/remove
---

#@overlay/match by=overlay.subset({ "kind": "ClusterRole", "metadata": { "name": "contour" } }), expects="0+"
#@overlay/remove
---

#@overlay/match by=overlay.subset({ "metadata": { "namespace": "projectcontour" } }), expects="0+"
#@overlay/remove
---
